{"ast":null,"code":"var _jsxFileName = \"/Users/abhishek.vats/Documents/Projects Git/Projects/docintel-ai/frontend/src/components/DocumentUpload.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { toast } from 'react-toastify';\nimport apiService from '../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DocumentUpload = () => {\n  _s();\n  const [uploading, setUploading] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const onDrop = async acceptedFiles => {\n    if (acceptedFiles.length === 0) return;\n    const file = acceptedFiles[0];\n\n    // Validate file type\n    const validTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'text/plain'];\n    if (!validTypes.includes(file.type)) {\n      toast.error('Please upload a valid file (PDF, DOC, DOCX, or TXT)');\n      return;\n    }\n    setUploading(true);\n    setLoading(true);\n    try {\n      const result = await apiService.uploadDocument(file);\n      toast.success('Document uploaded successfully!');\n      console.log('Upload result:', result);\n    } catch (error) {\n      console.error('Upload error:', error);\n      toast.error(error.message || 'Failed to upload document. Please try again.');\n    } finally {\n      setUploading(false);\n      setLoading(false);\n    }\n  };\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive\n  } = useDropzone({\n    onDrop,\n    accept: {\n      'application/pdf': ['.pdf'],\n      'application/msword': ['.doc'],\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],\n      'text/plain': ['.txt']\n    },\n    multiple: false\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full max-w-2xl mx-auto p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ...getRootProps(),\n      className: `border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors\n                    ${isDragActive ? 'border-blue-500 bg-blue-50' : 'border-gray-300 hover:border-blue-400'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ...getInputProps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Processing document...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-6xl mb-4\",\n          children: \"\\uD83D\\uDCC4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-gray-600 mb-2\",\n          children: isDragActive ? \"Drop the file here...\" : \"Drag and drop a document here, or click to select\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500\",\n          children: \"Supported formats: PDF, DOC, DOCX, TXT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(DocumentUpload, \"Wpj6ERATFfc5uVU5ZHlTdeN5ubQ=\", false, function () {\n  return [useDropzone];\n});\n_c = DocumentUpload;\nexport default DocumentUpload;\nvar _c;\n$RefreshReg$(_c, \"DocumentUpload\");","map":{"version":3,"names":["React","useState","useDropzone","toast","apiService","jsxDEV","_jsxDEV","Fragment","_Fragment","DocumentUpload","_s","uploading","setUploading","loading","setLoading","onDrop","acceptedFiles","length","file","validTypes","includes","type","error","result","uploadDocument","success","console","log","message","getRootProps","getInputProps","isDragActive","accept","multiple","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/abhishek.vats/Documents/Projects Git/Projects/docintel-ai/frontend/src/components/DocumentUpload.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { toast } from 'react-toastify';\nimport apiService from '../services/api';\n\nconst DocumentUpload = () => {\n    const [uploading, setUploading] = useState(false);\n    const [loading, setLoading] = useState(false);\n\n    const onDrop = async (acceptedFiles) => {\n        if (acceptedFiles.length === 0) return;\n\n        const file = acceptedFiles[0];\n        \n        // Validate file type\n        const validTypes = ['application/pdf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'text/plain'];\n        if (!validTypes.includes(file.type)) {\n            toast.error('Please upload a valid file (PDF, DOC, DOCX, or TXT)');\n            return;\n        }\n\n        setUploading(true);\n        setLoading(true);\n\n        try {\n            const result = await apiService.uploadDocument(file);\n            toast.success('Document uploaded successfully!');\n            console.log('Upload result:', result);\n        } catch (error) {\n            console.error('Upload error:', error);\n            toast.error(error.message || 'Failed to upload document. Please try again.');\n        } finally {\n            setUploading(false);\n            setLoading(false);\n        }\n    };\n\n    const { getRootProps, getInputProps, isDragActive } = useDropzone({\n        onDrop,\n        accept: {\n            'application/pdf': ['.pdf'],\n            'application/msword': ['.doc'],\n            'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],\n            'text/plain': ['.txt']\n        },\n        multiple: false\n    });\n\n    return (\n        <div className=\"w-full max-w-2xl mx-auto p-6\">\n            <div\n                {...getRootProps()}\n                className={`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors\n                    ${isDragActive ? 'border-blue-500 bg-blue-50' : 'border-gray-300 hover:border-blue-400'}`}\n            >\n                <input {...getInputProps()} />\n                {loading ? (\n                    <div className=\"flex flex-col items-center justify-center\">\n                        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4\"></div>\n                        <p className=\"text-gray-600\">Processing document...</p>\n                    </div>\n                ) : (\n                    <>\n                        <div className=\"text-6xl mb-4\">ðŸ“„</div>\n                        <p className=\"text-lg text-gray-600 mb-2\">\n                            {isDragActive\n                                ? \"Drop the file here...\"\n                                : \"Drag and drop a document here, or click to select\"}\n                        </p>\n                        <p className=\"text-sm text-gray-500\">\n                            Supported formats: PDF, DOC, DOCX, TXT\n                        </p>\n                    </>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default DocumentUpload; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}