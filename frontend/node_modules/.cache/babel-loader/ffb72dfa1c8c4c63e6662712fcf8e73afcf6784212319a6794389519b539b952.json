{"ast":null,"code":"import { getApiUrl } from '../config/api';\nclass ApiService {\n  async uploadDocument(file) {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      const response = await fetch(getApiUrl('/documents/upload'), {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Accept': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.detail || `HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log('API Response:', data); // Debug log\n\n      // Validate the response structure\n      if (!data || typeof data !== 'object') {\n        throw new Error('Invalid response format from server');\n      }\n\n      // Return the data in the expected format\n      return {\n        results: {\n          summary: data.summary,\n          entities: data.entities,\n          compliance_report: data.compliance_report,\n          clause_traceability: data.clause_traceability\n        }\n      };\n    } catch (error) {\n      console.error('Error uploading document:', error);\n      throw error;\n    }\n  }\n  async getCompanyConfig() {\n    try {\n      const response = await fetch(getApiUrl('/config/company'), {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.detail || `HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log('Company Config:', data); // Debug log\n      return data;\n    } catch (error) {\n      console.error('Error fetching company config:', error);\n      throw error;\n    }\n  }\n  async getComplianceRules() {\n    try {\n      const response = await fetch(getApiUrl('/config/rules'), {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.detail || `HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log('Compliance Rules:', data); // Debug log\n      return data;\n    } catch (error) {\n      console.error('Error fetching compliance rules:', error);\n      throw error;\n    }\n  }\n}\nconst apiService = new ApiService();\nexport default apiService;","map":{"version":3,"names":["getApiUrl","ApiService","uploadDocument","file","formData","FormData","append","response","fetch","method","body","headers","ok","errorData","json","catch","Error","detail","status","data","console","log","results","summary","entities","compliance_report","clause_traceability","error","getCompanyConfig","getComplianceRules","apiService"],"sources":["/Users/abhishek.vats/Documents/Projects Git/Projects/docintel-ai/frontend/src/services/api.js"],"sourcesContent":["import { getApiUrl } from '../config/api';\n\nclass ApiService {\n  async uploadDocument(file) {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n\n      const response = await fetch(getApiUrl('/documents/upload'), {\n        method: 'POST',\n        body: formData,\n        headers: {\n          'Accept': 'application/json'\n        }\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.detail || `HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      console.log('API Response:', data); // Debug log\n\n      // Validate the response structure\n      if (!data || typeof data !== 'object') {\n        throw new Error('Invalid response format from server');\n      }\n\n      // Return the data in the expected format\n      return {\n        results: {\n          summary: data.summary,\n          entities: data.entities,\n          compliance_report: data.compliance_report,\n          clause_traceability: data.clause_traceability\n        }\n      };\n    } catch (error) {\n      console.error('Error uploading document:', error);\n      throw error;\n    }\n  }\n\n  async getCompanyConfig() {\n    try {\n      const response = await fetch(getApiUrl('/config/company'), {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json'\n        }\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.detail || `HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      console.log('Company Config:', data); // Debug log\n      return data;\n    } catch (error) {\n      console.error('Error fetching company config:', error);\n      throw error;\n    }\n  }\n\n  async getComplianceRules() {\n    try {\n      const response = await fetch(getApiUrl('/config/rules'), {\n        method: 'GET',\n        headers: {\n          'Accept': 'application/json'\n        }\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.detail || `HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      console.log('Compliance Rules:', data); // Debug log\n      return data;\n    } catch (error) {\n      console.error('Error fetching compliance rules:', error);\n      throw error;\n    }\n  }\n}\n\nconst apiService = new ApiService();\nexport default apiService; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}